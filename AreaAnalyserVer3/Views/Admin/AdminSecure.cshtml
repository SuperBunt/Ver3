
@{
    ViewBag.Title = "Admin";
}

@*<script src="https://secure.aadcdn.microsoftonline-p.com/lib/1.0.12/js/adal.min.js"></script>
<script>
  var ADAL = new AuthenticationContext({
      instance: 'https://login.microsoftonline.com/',
      tenant: 'common', //COMMON OR YOUR TENANT ID

      clientId: 'e84c7e2a-627d-4bf5-abb6-33bedbf53926', //This is your client ID
      redirectUri: 'http://localhost:56174/', //This is your redirect URI

      callback: userSignedIn,
      popUp: true
  });

  function signIn() {
      ADAL.login();
  }

  function userSignedIn(err, token) {
      console.log('userSignedIn called');
      if (!err) {
          console.log("token: " + token);
          showWelcomeMessage();
      }
      else {
          console.error("error: " + err);
      }
  }

  function showWelcomeMessage() {
      var user = ADAL.getCachedUser();
      var divWelcome = document.getElementById('WelcomeMessage');
      divWelcome.innerHTML = "Welcome " + user.profile.name;
  }

</script>*@ 



<h2>Admin</h2>

<div class="container-fluid">
    
    
    @*@if (Request.IsAuthenticated)
    {
        <p>Welcome, @(ViewBag.UserName)!</p>
        <p><a href="@Url.Action("SignOut", "Admin")" class="btn btn-primary btn-lg">Click here to log out</a></p>
    }
    else
    {
        <p><a href="@Url.Action("SignIn", "Admin", null, Request.Url.Scheme)" class="btn btn-primary btn-lg">Click here to login</a></p>
    }*@

    <div class="row">
        
        <div class="admin col-xs-6 col-sm-3"><a href="@Url.Action("Inbox", "Admin")" class="btn btn-primary btn-lg">Inbox</a></div>
        <div class="admin col-xs-6 col-sm-3"><a href="@Url.Action("AddTown", "Admin")" class="btn btn-primary btn-lg">Add town</a></div>

        <!-- Add the extra clearfix for only the required viewport -->
        @*<div class="clearfix visible-xs-block"></div>

        <div class="admin col-xs-6 col-sm-3">.col-xs-6 .col-sm-3</div>
        <div class="admin col-xs-6 col-sm-3">.col-xs-6 .col-sm-3</div>*@
    </div>

    @*<ul class="nav navbar-nav">

        @if (Request.IsAuthenticated)
        {
            <li>@Html.ActionLink("Inbox", "Inbox", "Admin")</li>
            <li>@Html.ActionLink("Sign Out", "SignOut", "Admin")</li>
        }
    </ul>*@
</div>

