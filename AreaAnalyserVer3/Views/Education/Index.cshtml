@model AreaAnalyserVer3.ViewModels.Education

@{
    ViewBag.Title = "Education";
}

@section School{
    @Scripts.Render("~/amcharts/amcharts.js")
    @Scripts.Render("~/amcharts/serial.js")
    @Scripts.Render("~/amcharts/pie.js")
    @Scripts.Render("~/amcharts/plugins/dataloader/dataloader.min.js")
    @*<script type="text/javascript" src="https://www.amcharts.com/lib/3/amcharts.js"></script>
    <script type="text/javascript" src="https://www.amcharts.com/lib/3/pie.js"></script>*@

    @Scripts.Render("~/Scripts/education.js")

    <script>
            var name = 'Hello';
            
            $(document).ready(function () {
                loadGraph();
                // $("h1").text(name);
            });
    </script>
}

<h1>Local Schools</h1>
<div>
@if (Model.LocalSchools != null)
{
    <table class="table">
        <tr>
            <th>
                @Html.DisplayName("Name")
            </th>
            <th>
                @Html.DisplayName("Type")
            </th>
            <th>
                @Html.DisplayName("Ethos")
            </th>
            <th>
                @Html.DisplayName("Enrolled")
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model.LocalSchools)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Type)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Ethos)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Total)
                </td>
                <td>
                    @*@Html.ActionLink("Edit", "Edit", new { /* id=item.PrimaryKey */ }) |*@
                    <button onclick="refreshData(@item.SchoolId, '@item.Name')">View graph</button>
                    @Html.ActionLink("Details", "Details", new {  id=item.SchoolId  }) 
                    @*@Html.ActionLink("Delete", "Delete", new { /* id=item.PrimaryKey */ })*@
                </td>
            </tr>
        }
    </table>
}
</div>
<h3 id="schoolName"></h3>
<div class="row" id="charts" hidden>
    <div id="bar" style="Height: 800px; background-color:#cbbfbf" class="col-md-9"></div>
    <div id="graph" style="Height: 200px; background-color:#365132" class="col-md-3"></div>   
</div>

